var rawSectionData = {"InternalKey":null,"NavigationKey":null,"TotalItems":88,"operationResult":null,"SectionItems":[{"InternalKey":null,"NavigationKey":null,"StateCode":"","ProductId":53,"ProductCode":"SEC40A","ProductName":"British Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":20,"PostalCodeRange":"","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"AK","ProductId":92,"ProductCode":"SEC12A","ProductName":"Puget Sound Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":10,"PostalCodeRange":"(99500-99999, 98000-98599)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"AL","ProductId":58,"ProductCode":"SEC17A","ProductName":"South Eastern Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":15,"PostalCodeRange":"(35000-36999, 30000-31999, 29000-29999)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"AR","ProductId":78,"ProductCode":"SEC52A","ProductName":"Mid-South Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":15,"PostalCodeRange":"(72300-72499, 38000-38399)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"AR","ProductId":89,"ProductCode":"SEC53A","ProductName":"Ozark Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":10,"PostalCodeRange":"(71600-72299, 72500-72999, 64800-64899, 65600-65899)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"AZ","ProductId":55,"ProductCode":"SEC45A","ProductName":"Cactus Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":20,"PostalCodeRange":"(85000-86099, 86300-86999)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"BC","ProductId":54,"ProductCode":"SEC22A","ProductName":"British Columbia Section","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":9,"PostalCodeRange":"(V00000-V99999)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"CA","ProductId":57,"ProductCode":"SEC02B","ProductName":"Central Valley Sub-Section - Unified Membeship","ComponentProductId":149,"ComponentProductCode":"SEC02AC","ComponentProductShortName":"Northern California Section","MemberPrice":20,"PostalCodeRange":"(95200-95399)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"IFT","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"CA","ProductId":83,"ProductCode":"SEC02A","ProductName":"Northern California Section - Unified Membership","ComponentProductId":150,"ComponentProductCode":"SEC02BC","ComponentProductShortName":"Central Valley Sub-Section","MemberPrice":20,"PostalCodeRange":"(95400-96199, 93800-95199)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"IFT","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"CA","ProductId":94,"ProductCode":"SEC02D","ProductName":"San Joaquin Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":20,"PostalCodeRange":"(93200-93399, 93500-93799)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"CA","ProductId":96,"ProductCode":"SEC04A","ProductName":"Southern California Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":25,"PostalCodeRange":"(90000-91899, 91901-92199, 92200-93199, 93400-93499)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"CO","ProductId":93,"ProductCode":"SEC32A","ProductName":"Rocky Mountain Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":20,"PostalCodeRange":"(80000-81699, 82000-82099)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"CT","ProductId":85,"ProductCode":"SEC42A","ProductName":"Nutmeg Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":25,"PostalCodeRange":"(06000-06999)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"DC","ProductId":99,"ProductCode":"SEC31A","ProductName":"Washington D.C. Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":15,"PostalCodeRange":"(20000-20099, 20200-20599, 20700-20999, 20100-20199, 22000-22399, 22900-24699)","PostalLinkedFlag":true,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"DE","ProductId":76,"ProductCode":"SEC11A","ProductName":"Maryland Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":12,"PostalCodeRange":"(19900-19999, 20600-20699, 21000-21499, 21600-21999, 26900-26999, 22400-22899, 24700-25999, 26100-26499, 26600-26899)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"DE","ProductId":90,"ProductCode":"SEC10A","ProductName":"Philadelphia Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":20,"PostalCodeRange":"(19700-19899, 18000-18199, 18300-18599, 18900-19499, 08000-08499, 08700-08799)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"FL","ProductId":60,"ProductCode":"SEC07A","ProductName":"Florida Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":20,"PostalCodeRange":"(32000-32899, 33500-34899)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"FL","ProductId":95,"ProductCode":"SEC14A","ProductName":"South Florida Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":10,"PostalCodeRange":"(32900-33499, 34900-34999)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"GA","ProductId":58,"ProductCode":"SEC17A","ProductName":"South Eastern Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":15,"PostalCodeRange":"(35000-36999, 30000-31999, 29000-29999)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"HI","ProductId":63,"ProductCode":"SEC25A","ProductName":"Hawaii Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":15,"PostalCodeRange":"(96700-96899)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"IA","ProductId":49,"ProductCode":"SEC24A","ProductName":"Ak-Sar-Ben Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":15,"PostalCodeRange":"(51500-51999, 68000-69999)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"IA","ProductId":62,"ProductCode":"SEC28B","ProductName":"Great Plains Sub-Section - Unified Membership","ComponentProductId":15383101,"ComponentProductCode":"SEC28AC","ComponentProductShortName":"Minnesota Section","MemberPrice":10,"PostalCodeRange":"(51000-51399, 56000-56299, 57000-57999)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"IFT","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"IA","ProductId":66,"ProductCode":"SEC13A","ProductName":"Iowa Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":20,"PostalCodeRange":"(50000-50999, 51400-51499, 52000-52999)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"ID","ProductId":65,"ProductCode":"SEC37A","ProductName":"Intermountain Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":25,"PostalCodeRange":"(83200-83499, 83600-83799, 97900-97999)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"ID","ProductId":71,"ProductCode":"SEC38A","ProductName":"Lewis & Clark Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":15,"PostalCodeRange":"(83500-83599, 83800-83999, 97800-97899, 98800-99499)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"IL","ProductId":48,"ProductCode":"SEC01A","ProductName":"Chicago Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":25,"PostalCodeRange":"(60000-61999, 62300-62399, 62500-62799, 46300-46499)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"IL","ProductId":97,"ProductCode":"SEC05A","ProductName":"St. Louis Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":15,"PostalCodeRange":"(62000-62299, 62400-62499, 62800-62999, 63000-63999, 65000-65299, 65400-65599)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"IN","ProductId":48,"ProductCode":"SEC01A","ProductName":"Chicago Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":25,"PostalCodeRange":"(60000-61999, 62300-62399, 62500-62799, 46300-46499)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"IN","ProductId":51,"ProductCode":"SEC33A","ProductName":"Bluegrass Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":15,"PostalCodeRange":"(47100-47199, 40000-40999, 41100-42999)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"IN","ProductId":64,"ProductCode":"SEC20A","ProductName":"Indiana Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":15,"PostalCodeRange":"(46000-46299, 46500-47099, 47200-47999)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"KS","ProductId":68,"ProductCode":"SEC29A","ProductName":"Kansas City Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":25,"PostalCodeRange":"(66000-67999, 64000-64799, 65300-65399, 65900-65999)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"KY","ProductId":51,"ProductCode":"SEC33A","ProductName":"Bluegrass Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":15,"PostalCodeRange":"(47100-47199, 40000-40999, 41100-42999)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"KY","ProductId":86,"ProductCode":"SEC15A","ProductName":"Ohio Valley Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":20,"PostalCodeRange":"(41000-41099, 43000-43399, 43700-43999, 45000-45999)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"LA","ProductId":73,"ProductCode":"SEC35A","ProductName":"Longhorn Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":20,"PostalCodeRange":"(71000-71199, 75000-76799, 79000-79699)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"LA","ProductId":74,"ProductCode":"SEC34A","ProductName":"Louisiana Gulf Coast Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":10,"PostalCodeRange":"(70000-70999, 71200-71599)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"MA","ProductId":82,"ProductCode":"SEC03A","ProductName":"Northeast Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":15,"PostalCodeRange":"(01000-02799, 03900-04999, 03000-03899, 02800-02999, 05000-05999)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"MD","ProductId":76,"ProductCode":"SEC11A","ProductName":"Maryland Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":12,"PostalCodeRange":"(19900-19999, 20600-20699, 21000-21499, 21600-21999, 26900-26999, 22400-22899, 24700-25999, 26100-26499, 26600-26899)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"MD","ProductId":91,"ProductCode":"SEC21A","ProductName":"Pittsburgh Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":20,"PostalCodeRange":"(21500-21599, 15000-16399, 16600-16799, 26000-26099, 26500-26599)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"MD","ProductId":99,"ProductCode":"SEC31A","ProductName":"Washington D.C. Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":15,"PostalCodeRange":"(20000-20099, 20200-20599, 20700-20999, 20100-20199, 22000-22399, 22900-24699)","PostalLinkedFlag":true,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"ME","ProductId":82,"ProductCode":"SEC03A","ProductName":"Northeast Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":15,"PostalCodeRange":"(01000-02799, 03900-04999, 03000-03899, 02800-02999, 05000-05999)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"MI","ProductId":61,"ProductCode":"SEC09A","ProductName":"Great Lakes Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":10,"PostalCodeRange":"(48000-49999)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"MN","ProductId":62,"ProductCode":"SEC28B","ProductName":"Great Plains Sub-Section - Unified Membership","ComponentProductId":15383101,"ComponentProductCode":"SEC28AC","ComponentProductShortName":"Minnesota Section","MemberPrice":10,"PostalCodeRange":"(51000-51399, 56000-56299, 57000-57999)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"IFT","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"MN","ProductId":79,"ProductCode":"SEC28A","ProductName":"Minnesota Section - Unified Membership","ComponentProductId":15383190,"ComponentProductCode":"SEC28BC","ComponentProductShortName":"Great Plains Sub-Section","MemberPrice":10,"PostalCodeRange":"(55000-55999, 56300-56999, 58000-58899, 54000-54099, 54700-54899)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"IFT","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"MO","ProductId":68,"ProductCode":"SEC29A","ProductName":"Kansas City Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":25,"PostalCodeRange":"(66000-67999, 64000-64799, 65300-65399, 65900-65999)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"MO","ProductId":89,"ProductCode":"SEC53A","ProductName":"Ozark Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":10,"PostalCodeRange":"(71600-72299, 72500-72999, 64800-64899, 65600-65899)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"MO","ProductId":97,"ProductCode":"SEC05A","ProductName":"St. Louis Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":15,"PostalCodeRange":"(62000-62299, 62400-62499, 62800-62999, 63000-63999, 65000-65299, 65400-65599)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"MS","ProductId":75,"ProductCode":"SEC54A","ProductName":"Magnolia Section - NO LONGER AVAILABLE","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":10,"PostalCodeRange":"(38600-39999)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"NC","ProductId":59,"ProductCode":"SEC39A","ProductName":"Dogwood Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":20,"PostalCodeRange":"(27000-28999)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"NC","ProductId":76,"ProductCode":"SEC11A","ProductName":"Maryland Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":12,"PostalCodeRange":"(19900-19999, 20600-20699, 21000-21499, 21600-21999, 26900-26999, 22400-22899, 24700-25999, 26100-26499, 26600-26899)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"ND","ProductId":79,"ProductCode":"SEC28A","ProductName":"Minnesota Section - Unified Membership","ComponentProductId":15383190,"ComponentProductCode":"SEC28BC","ComponentProductShortName":"Great Plains Sub-Section","MemberPrice":10,"PostalCodeRange":"(55000-55999, 56300-56999, 58000-58899, 54000-54099, 54700-54899)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"IFT","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"NE","ProductId":49,"ProductCode":"SEC24A","ProductName":"Ak-Sar-Ben Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":15,"PostalCodeRange":"(51500-51999, 68000-69999)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"NH","ProductId":82,"ProductCode":"SEC03A","ProductName":"Northeast Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":15,"PostalCodeRange":"(01000-02799, 03900-04999, 03000-03899, 02800-02999, 05000-05999)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"NJ","ProductId":56,"ProductCode":"SEC06B","ProductName":"Central New Jersey Sub-Section - Unified Membership","ComponentProductId":152,"ComponentProductCode":"SEC06AC","ComponentProductShortName":"New York Section","MemberPrice":25,"PostalCodeRange":"(07700-07799, 08500-08699, 08800-08999)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"IFT","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"NJ","ProductId":81,"ProductCode":"SEC06A","ProductName":"New York Section - Unified Membership","ComponentProductId":153,"ComponentProductCode":"SEC06BC","ComponentProductShortName":"Central New Jersey Sub-Section","MemberPrice":25,"PostalCodeRange":"(07000-07699, 07800-07999, 10000-10999, 12400-12799)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"IFT","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"NJ","ProductId":90,"ProductCode":"SEC10A","ProductName":"Philadelphia Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":20,"PostalCodeRange":"(19700-19899, 18000-18199, 18300-18599, 18900-19499, 08000-08499, 08700-08799)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"NY","ProductId":72,"ProductCode":"SEC47A","ProductName":"Long Island Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":15,"PostalCodeRange":"(11000-11999)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"NY","ProductId":81,"ProductCode":"SEC06A","ProductName":"New York Section - Unified Membership","ComponentProductId":153,"ComponentProductCode":"SEC06BC","ComponentProductShortName":"Central New Jersey Sub-Section","MemberPrice":25,"PostalCodeRange":"(07000-07699, 07800-07999, 10000-10999, 12400-12799)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"IFT","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"NY","ProductId":100,"ProductCode":"SEC08A","ProductName":"Western New York Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":6,"PostalCodeRange":"(12000-12399, 12800-14999, 16400-16599)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"OH","ProductId":70,"ProductCode":"SEC43A","ProductName":"Lake Erie Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":25,"PostalCodeRange":"(44000-44799)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"OH","ProductId":84,"ProductCode":"SEC48A","ProductName":"Northwest Ohio Section - SECTION NOT AVAILABLE TO ORDERS","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":8,"PostalCodeRange":"(43400-43699, 44800-44999)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"OH","ProductId":86,"ProductCode":"SEC15A","ProductName":"Ohio Valley Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":20,"PostalCodeRange":"(41000-41099, 43000-43399, 43700-43999, 45000-45999)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"OK","ProductId":87,"ProductCode":"SEC46A","ProductName":"Oklahoma Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":15,"PostalCodeRange":"(73000-74999)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"OR","ProductId":65,"ProductCode":"SEC37A","ProductName":"Intermountain Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":25,"PostalCodeRange":"(83200-83499, 83600-83799, 97900-97999)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"OR","ProductId":71,"ProductCode":"SEC38A","ProductName":"Lewis & Clark Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":15,"PostalCodeRange":"(83500-83599, 83800-83999, 97800-97899, 98800-99499)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"OR","ProductId":88,"ProductCode":"SEC16A","ProductName":"Oregon Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":35,"PostalCodeRange":"(97000-97799, 98600-98699)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"PA","ProductId":69,"ProductCode":"SEC55A","ProductName":"Keystone Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":10,"PostalCodeRange":"(16800-17999, 18200-18299, 18600-18899, 19500-19699)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"PA","ProductId":90,"ProductCode":"SEC10A","ProductName":"Philadelphia Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":20,"PostalCodeRange":"(19700-19899, 18000-18199, 18300-18599, 18900-19499, 08000-08499, 08700-08799)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"PA","ProductId":91,"ProductCode":"SEC21A","ProductName":"Pittsburgh Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":20,"PostalCodeRange":"(21500-21599, 15000-16399, 16600-16799, 26000-26099, 26500-26599)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"PA","ProductId":100,"ProductCode":"SEC08A","ProductName":"Western New York Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":6,"PostalCodeRange":"(12000-12399, 12800-14999, 16400-16599)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"RI","ProductId":82,"ProductCode":"SEC03A","ProductName":"Northeast Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":15,"PostalCodeRange":"(01000-02799, 03900-04999, 03000-03899, 02800-02999, 05000-05999)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"SC","ProductId":58,"ProductCode":"SEC17A","ProductName":"South Eastern Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":15,"PostalCodeRange":"(35000-36999, 30000-31999, 29000-29999)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"SD","ProductId":62,"ProductCode":"SEC28B","ProductName":"Great Plains Sub-Section - Unified Membership","ComponentProductId":15383101,"ComponentProductCode":"SEC28AC","ComponentProductShortName":"Minnesota Section","MemberPrice":10,"PostalCodeRange":"(51000-51399, 56000-56299, 57000-57999)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"IFT","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"TN","ProductId":78,"ProductCode":"SEC52A","ProductName":"Mid-South Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":15,"PostalCodeRange":"(72300-72499, 38000-38399)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"TN","ProductId":98,"ProductCode":"SEC44A","ProductName":"Volunteer Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":20,"PostalCodeRange":"(37099-37999, 38400-38599)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"TX","ProductId":50,"ProductCode":"SEC51A","ProductName":"Alamo Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":10,"PostalCodeRange":"(76800-78999, 79700-79999)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"TX","ProductId":73,"ProductCode":"SEC35A","ProductName":"Longhorn Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":20,"PostalCodeRange":"(71000-71199, 75000-76799, 79000-79699)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"UT","ProductId":52,"ProductCode":"SEC49A","ProductName":"Bonneville Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":20,"PostalCodeRange":"(84000-84999)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"VA","ProductId":76,"ProductCode":"SEC11A","ProductName":"Maryland Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":12,"PostalCodeRange":"(19900-19999, 20600-20699, 21000-21499, 21600-21999, 26900-26999, 22400-22899, 24700-25999, 26100-26499, 26600-26899)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"VA","ProductId":99,"ProductCode":"SEC31A","ProductName":"Washington D.C. Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":15,"PostalCodeRange":"(20000-20099, 20200-20599, 20700-20999, 20100-20199, 22000-22399, 22900-24699)","PostalLinkedFlag":true,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"VT","ProductId":82,"ProductCode":"SEC03A","ProductName":"Northeast Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":15,"PostalCodeRange":"(01000-02799, 03900-04999, 03000-03899, 02800-02999, 05000-05999)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"WA","ProductId":71,"ProductCode":"SEC38A","ProductName":"Lewis & Clark Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":15,"PostalCodeRange":"(83500-83599, 83800-83999, 97800-97899, 98800-99499)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"WA","ProductId":88,"ProductCode":"SEC16A","ProductName":"Oregon Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":35,"PostalCodeRange":"(97000-97799, 98600-98699)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"WA","ProductId":92,"ProductCode":"SEC12A","ProductName":"Puget Sound Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":10,"PostalCodeRange":"(99500-99999, 98000-98599)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"WI","ProductId":79,"ProductCode":"SEC28A","ProductName":"Minnesota Section - Unified Membership","ComponentProductId":15383190,"ComponentProductCode":"SEC28BC","ComponentProductShortName":"Great Plains Sub-Section","MemberPrice":10,"PostalCodeRange":"(55000-55999, 56300-56999, 58000-58899, 54000-54099, 54700-54899)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"IFT","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"WI","ProductId":101,"ProductCode":"SEC27A","ProductName":"Wisconsin Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":15,"PostalCodeRange":"(53000-53999, 54100-54699, 54900-54999)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"WV","ProductId":76,"ProductCode":"SEC11A","ProductName":"Maryland Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":12,"PostalCodeRange":"(19900-19999, 20600-20699, 21000-21499, 21600-21999, 26900-26999, 22400-22899, 24700-25999, 26100-26499, 26600-26899)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"WV","ProductId":91,"ProductCode":"SEC21A","ProductName":"Pittsburgh Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":20,"PostalCodeRange":"(21500-21599, 15000-16399, 16600-16799, 26000-26099, 26500-26599)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null},{"InternalKey":null,"NavigationKey":null,"StateCode":"WY","ProductId":93,"ProductCode":"SEC32A","ProductName":"Rocky Mountain Section - Unified Membership","ComponentProductId":0,"ComponentProductCode":"","ComponentProductShortName":"","MemberPrice":20,"PostalCodeRange":"(80000-81699, 82000-82099)","PostalLinkedFlag":false,"ParentProduct":"IFT","ComponentParentProduct":"","SectionItems":null}]}


// I CAN FILTER BY FIELDS THAT THE BACKEND NEEDS AND FIELDS THAT THE VIEW NEEDS

//using 'state' is the obvious word here, but that becomes confusing when dealing with a US State map... 
//donT have to de-conflict vars -- may be cleaner to let namspacing do this
//this has to be able to accept sub values and/or 



//moving singular values here allows key/value pairs of mapStatusContainer to all be of the same shape (with up to 4);

var singularViewOnlyStatusContainer = {
    currentStateCode: ''
    ,currentStateName: ''
}

var mapStatusContainer = {
    //first 5 required by backend
    currentProductId: ''
    ,currentProductName: ''
    ,currentComponentProductId: ''
    ,currentComponentProductShortName: ''
    ,currentMemberPrice: ''
    //required by Panel View
    ,currentZipCodes: ''
}

var mapStatusContainerDeepARRAY = [
    {
        currentProductId: '9999'
    },
    {
        currentProductId: '666'
    },
    {
        currentProductId: '333'
    },
    {
        currentProductId: '111'
    }
]

mapStatusContainerDeepARRAY.map(function(stateSection){
    console.log(stateSection.currentProductId);
});

console.log(mapStatusContainerDeepARRAY[0].currentProductId);

//could just make this have all 4, then worry about building it properly next
var mapStatusContainerDeep = {
    // 'sectionsForThisState': [{
    //     {
    //         currentProductId: '9999'
    //     },
    //     {
    //         currentProductId: '777'
    //     }
    // }]
    sectionsForThisState: {
        section1: {
            currentProductId: '9999'
        }
    }
    
};


console.log(mapStatusContainerDeep.sectionsForThisState.section1.currentProductId);


//these can be used later to filter mapStatusContainer at queryTime
var fieldsRequiredByPanelView = [
    'currentProductName'
    ,'currentMemberPrice'
    ,'currentComponentProductShortName'
    ,'currentZipCodes'
]
//these can be used later to filter mapStatusContainer at queryTime
var fieldsRequiredByBackend = [
    'currentProductId'
    ,'currentProductName'
    ,'currentComponentProductId'
    ,'currentComponentProductShortName'
    ,'currentMemberPrice'
]


//needs to allow multiple sets
//could also first try one input for each selected section (max 4)
var outputObjectForBackend = {
    ProductId: ''
    ,ProductName: ''
    ,ComponentProductId: ''
    ,ComponentProductShortName: ''
    ,MemberPrice: ''
}





;(function iftMapFunction(){
    "use strict";

    function iftMapFunctionInit(){

        //get reference to outermost wrapper to show/hide with modal
        var iftMapWrapperOuter = document.getElementById('iftMapWrapperOuter');
        var iftMapButtonOpen = document.getElementById('iftMapButtonOpen');
        var iftMapButtonClose = document.getElementById('iftMapButtonCloseWrapper');
        var iftMapButtonCancel = document.getElementById('iftMapButtonCancel');
        var seletedStateDisplay = document.getElementById('seletedStateDisplay');
        var stateSelectMenu = document.getElementById('stateSelectMenu');
        var internationalSelectMenu = document.getElementById('internationalSelectMenu');
        var arrayOfSpansToPopulateEmpty = Array.prototype.slice.call(document.querySelectorAll('.iftMap__sectionData__wrapper span'));
        var arrayOfCheckboxes = Array.prototype.slice.call(document.querySelectorAll('.iftMap__sectionData__wrapper [type="checkbox"]'));
        var hiddenInputForBackend = document.getElementById('IFTSavedSectionHiddenfield');
        var activeStateSting = 'iftMapWrapperOuter--ACTIVE-STATE';

        //already have a reference, but itS more general for etch-a-sketch reasons
        var arrayOfFieldsToPopulate_2 = Array.prototype.slice.call(document.querySelectorAll('#iftPanel__2 span'));

        //DRAW THE MAP
        var svg = d3.select('#iftMap');
        var path = d3.geoPath();
        d3.json('javascripts/data/topoJSONusCustom.json', function(error, data) {
        //d3.json('/Scripts/data/topoJSONusCustom.json', function(error, data) {
          if (error) throw error;
          svg.append('g')
            .attr('class', 'states iftMap__svg__g')
            .selectAll('path')
            .data(topojson.feature(data, data.objects.states).features)
            .enter()
            .append('path')
            .attr('id', function(thisState){
                return thisState.id
            })
            .attr('class', 'usState iftMap__svg__path')
            .attr('d', path)
            .on('click', function(thisState){
                mapHandlerFunction(event, thisState);
            });

            svg.append('path')
              .attr('class', 'state-borders iftMap__svg__path--stateBorders')
              .attr('d', path(topojson.mesh(data, data.objects.states, function(a, b) { return a !== b; })));
        });

        //(function getJSONfromHiddenInput(){})();


        
        function mapHandlerFunction(event, statefromD3){
            
            //if a state on the map has been clicked
            if(event.currentTarget.tagName === 'path') {
                //set status (maybe factor out)
                
                singularViewOnlyStatusContainer.currentStateCode = statefromD3.id;
                singularViewOnlyStatusContainer.currentStateName = statefromD3.properties.stateName;
                //THIS IS WHERE TO ADD STATE NAME TO MODEL

                console.log('state has been clicked to set ' + singularViewOnlyStatusContainer.currentStateName);
                removeAddActiveState('thenAdd');
                stateSelectMenu.value = singularViewOnlyStatusContainer.currentStateCode;
            }
            //if a dropdown item has been selected (select menu visible only on mobile)
            if(event.currentTarget.id === 'stateSelectMenu') {

                //set status (maybe factor out)
                singularViewOnlyStatusContainer.currentStateCode = stateSelectMenu.options[stateSelectMenu.selectedIndex].value;
                 //update model
                singularViewOnlyStatusContainer.currentStateName = stateSelectMenu.options[stateSelectMenu.selectedIndex].text;
                //get state name from dropdown


                removeAddActiveState('thenAdd');
                console.log('select menu has been used to set ' + singularViewOnlyStatusContainer.currentStateName);
            }
            //if an international item has been selected
            if(event.currentTarget.id === 'internationalSelectMenu'){
                //set status (maybe factor out)
                singularViewOnlyStatusContainer.currentStateCode = internationalSelectMenu.options[internationalSelectMenu.selectedIndex].value;
                singularViewOnlyStatusContainer.currentStateName = internationalSelectMenu.options[internationalSelectMenu.selectedIndex].text;

                console.log('international menu has been used to set ' + singularViewOnlyStatusContainer.currentStateName);

                //clear dropdown list since not usState
                stateSelectMenu.value = '';
                removeAddActiveState();
            }

            displayDataOnPage();
        }



        function removeAddActiveState(thenAdd){
            //query statecode
            
            var selectedItem = document.querySelector('.usState--SELECTED');
            //if there is an active item, remove itS active class. Why not just strip all? Oh, because it was causing a timing issue

            if (selectedItem !== null){
                selectedItem.classList.remove('usState--SELECTED');
            }
            if(thenAdd){
                document.getElementById(singularViewOnlyStatusContainer.currentStateCode).classList.add('usState--SELECTED');
            }
        }


        function displayDataOnPage(){            

   
            //called without arguments becuase that function queries the model
            displayAreaName();


            //FILTER SectionItems array to make new subarray of matching state sections (max 4)
            var matchingSectionItems = rawSectionData.SectionItems.filter(function(sectionItem){
                return sectionItem.StateCode === singularViewOnlyStatusContainer.currentStateCode 
            });
            console.log('there are ' + matchingSectionItems.length + ' matching sections and here they are');
            console.log(matchingSectionItems);

            //now, map function to that new subarray
            matchingSectionItems.map(function(matchingSectionItem){
                var indexOfSectionItem = rawSectionData.SectionItems.indexOf(matchingSectionItem);
                    

                    (function setAOTprops(){//map the model to these values & ensure same shape
                        mapStatusContainer.currentProductId = rawSectionData.SectionItems[indexOfSectionItem].ProductId;
                        mapStatusContainer.currentProductName = rawSectionData.SectionItems[indexOfSectionItem].ProductName;
                        mapStatusContainer.currentComponentProductId = rawSectionData.SectionItems[indexOfSectionItem].ComponentProductId;
                        mapStatusContainer.currentComponentProductShortName = rawSectionData.SectionItems[indexOfSectionItem].ComponentProductShortName;
                        mapStatusContainer.currentMemberPrice = rawSectionData.SectionItems[indexOfSectionItem].MemberPrice;

                        //for display but not something the backend needs
                        mapStatusContainer.currentZipCodes = rawSectionData.SectionItems[indexOfSectionItem].PostalCodeRange;
                    })();

                    //clear existing panel content
                    clearPanelsOfContent();

                    //activate/disable/hide number of panels
                    applyStatusToPanels(matchingSectionItems.length);


                    //how tightly coupled are statusAppliaction and fieldPopulation
                    //also, do disable and hide status clear?



                   

                
                    var aCounter = 0;

                    var mapStatusContainer__forView = {
                        currentProductName: mapStatusContainer.currentProductName
                        ,currentMemberPrice: mapStatusContainer.currentMemberPrice
                        ,currentComponentProductShortName: mapStatusContainer.currentComponentProductShortName
                        ,currentZipCodes: mapStatusContainer.currentZipCodes
                    }

                    //try creating this with a list operation
                    // var fiteredStatusContainerForView = fieldsRequiredByPanelView.filter(function(theFieldRequired){
                    //     //we want to return an object, not an array
                    //     return mapStatusContainer[Object.keys(theFieldRequired)]

                    // });

                    // console.log('fiteredStatusContainerForView:');
                    // console.log(fiteredStatusContainerForView);



                    //and this will be an array of arrays because there are up to 4

                    //THIS IS WORKING
                    arrayOfFieldsToPopulate_2.map(function(fieldToPopulate){

                        console.log('the field to populate is ' + fieldToPopulate + 'and its this type: ' + typeof fieldToPopulate)

                            //this is using the view keys to query - could do a filter inside here
                            fieldToPopulate.innerHTML = mapStatusContainer[Object.keys(mapStatusContainer__forView)[aCounter]];
                            aCounter++;
    
                    });

                    

                    /*

                    function fieldPopulation(arrayOfFieldsToPopulate, arrayOfvaluesToInsert){
                        //for each, loop, map, whatevs -- just brute force it
                        //fieldToPopulate.innerHTML = valueToInsert;

                    }

                    fieldPopulation(arrayOfFieldsToPopulate_2, mapStatusContainer.keys.VALUES??);
                    
                    */






                   //CONSOLE HELPER 
                   testLogAllProps();


            });

        }

        function displayAreaName(){
            seletedStateDisplay.innerHTML = singularViewOnlyStatusContainer.currentStateName;
        }


        //works as expected, but regression test this -- vue would be good for this
        function clearPanelsOfContent(){
            arrayOfSpansToPopulateEmpty.map(function(thisSpan){
                thisSpan.innerHTML = '';
            });
        }

        //does nothing yet
        function applyStatusToPanels(numberOfPanels){
            console.log('activating panel -- BEEP');
            //then active the correct number to get the already-in-place markup to display
            // 
            //     1) add class of DISABLED-STATE to the iftMap__sectionData__wrapper
            //     2) add disabled=disabled attribute to the input
            //     3) add checked=checked attrubute to input
            // 
        }
        
    
        //what do we do if the user chooses a different state AFTER selecting a checkbox? It should clear, i think.
        //OR we could disable clicking on the map while active panel product checked


        function putOutputArrayInHiddenInput(){
            //takes contents of outputObjectForBackend and populates #hiddenInputForBackend
            var formattedOutput = JSON.stringify(outputObjectForBackend);
            //requested formatting is very specific
            hiddenInputForBackend.value = formattedOutput;
        }

        function clearHiddenInput(){
            hiddenInputForBackend.value = '';
        }

        
        function clearCheckBoxes(){
            arrayOfCheckboxes.map(function(thisCheckBox){
                thisCheckBox.checked = false;
            })
        }

       


        //this must be called each time new data is put on the page to get a fresh nodelist
        (function collectTooltipsAndAttachListeners(){
            var arrayOfToolTipIcons = Array.prototype.slice.call(document.querySelectorAll('.iconInfo'));
            var arrayOfToolTipsCloseButtons = Array.prototype.slice.call(document.querySelectorAll('.iftMap__tooltip__closeButton__wrapper'));
            //add listeners
            arrayOfToolTipIcons.map(function(tooltipIcon){
                tooltipIcon.addEventListener('click', openThisTooltip, false);
            });
            arrayOfToolTipsCloseButtons.map(function(toolTipCloseButton){
                toolTipCloseButton.addEventListener('click', closeActiveTooltip, false);
            });
        })();


        function closeActiveTooltip(event){
            var nodeListOfHiddenTooltipContent = document.querySelectorAll('.iftMap__sectionData__footer');
            var visibleTooltip = document.querySelector('.iftMap__sectionData__footer--VISIBLE-STATE');
            if (visibleTooltip !== null) {
                visibleTooltip.classList.remove('iftMap__sectionData__footer--VISIBLE-STATE');
                visibleTooltip.classList.add('iftMap__sectionData__footer--HIDDEN-STATE');
            }
        }

        function openThisTooltip(event){
            var theContentToReveal = event.currentTarget.parentNode.querySelector('.iftMap__sectionData__footer');
            closeActiveTooltip(event);
            theContentToReveal.classList.remove('iftMap__sectionData__footer--HIDDEN-STATE');
            theContentToReveal.classList.add('iftMap__sectionData__footer--VISIBLE-STATE');

        }



        //should CLOSING MODAL CLEAR INPUTS and/or clear fields?????
        //it should at the very least uncheck stuff -- which ideally would trigger a reverse output empty


        //ON CHECK EVENT, call putOutputArrayInHiddenInput() 
        //on UNCHECK EVENT, clear the value of that hidden input (analagous to removing from cart);

        //need another event on the CHECKBOXES to call putOutputArrayInHiddenInput() andOr emptyThat value
        // unchecking must un-store it



        function showHideWholeMap(event){
            if(event.currentTarget === iftMapButtonOpen) {
                iftMapWrapperOuter.classList.add(activeStateSting);
            }
            if(event.currentTarget === iftMapButtonClose) {
                //this closes any open tooltip
                closeActiveTooltip();
                iftMapWrapperOuter.classList.remove(activeStateSting);
            }
            if(event.currentTarget === iftMapButtonCancel){
                //this might be a link, so be sure to prevent default
                event.preventDefault();
                closeActiveTooltip();
                iftMapWrapperOuter.classList.remove(activeStateSting);
            }
        }

        //EVENTS
        stateSelectMenu.addEventListener('change', mapHandlerFunction, false);
        internationalSelectMenu.addEventListener('change', mapHandlerFunction, false);
        iftMapButtonOpen.addEventListener('click', showHideWholeMap, false);
        iftMapButtonClose.addEventListener('click', showHideWholeMap, false);
        iftMapButtonCancel.addEventListener('click', showHideWholeMap, false);


        // need another event on the CHECKBOXES to call putOutputArrayInHiddenInput() andOr emptyThat value
        // unchecking must un-store it
    
    }    

    document.addEventListener('DOMContentLoaded', iftMapFunctionInit);
    
    if(window.hasOwnProperty('Sys')){
        //partial postBack
        Sys.WebForms.PageRequestManager.getInstance().add_endRequest(iftMapFunctionInit)   
    }

    //log outputs in order backend expects
    function testLogAllProps(){console.log('ProductId: ' + mapStatusContainer.currentProductId);console.log('ProductName: ' + mapStatusContainer.currentProductName);console.log('currentComponentProductId: ' + mapStatusContainer.currentComponentProductId);console.log('currentComponentProductShortName: ' + mapStatusContainer.currentComponentProductShortName);console.log('currentMemberPrice: $' + mapStatusContainer.currentMemberPrice);
   }
})();